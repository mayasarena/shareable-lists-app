{"ast":null,"code":"var _jsxFileName = \"/Users/mayamon/Desktop/dev projs/list-app/front/src/contexts/DataContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useContext } from 'react';\nimport { UserContext } from './UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/createContext();\nexport const DataProvider = ({\n  children\n}) => {\n  _s();\n  const {\n    user\n  } = useContext(UserContext);\n  const [data, setData] = useState(null);\n  const getData = async () => {\n    if (user) {\n      try {\n        console.log('user id', user.uid);\n        const listsResponse = await fetch(`${process.env.REACT_APP_SERVERURL}/lists/${user.uid}`);\n        const listsJson = await listsResponse.json();\n        const listsWithTasks = await Promise.all(listsJson.map(async list => {\n          const tasksResponse = await fetch(`${process.env.REACT_APP_SERVERURL}/tasks/${list.id}`);\n          const tasksJson = await tasksResponse.json();\n          return {\n            ...list,\n            tasks: tasksJson\n          };\n        }));\n        setData(listsWithTasks);\n      } catch (error) {\n        console.error(error);\n      }\n    } else {\n      console.error('Error fetching user.');\n    }\n  };\n  useEffect(() => {\n    getData();\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      data,\n      getData\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(DataProvider, \"V7Wym9H+/OBPg12Yvbdfi5iELX8=\");\n_c = DataProvider;\nvar _c;\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","UserContext","jsxDEV","_jsxDEV","DataContext","DataProvider","children","_s","user","data","setData","getData","console","log","uid","listsResponse","fetch","process","env","REACT_APP_SERVERURL","listsJson","json","listsWithTasks","Promise","all","map","list","tasksResponse","id","tasksJson","tasks","error","useEffect","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mayamon/Desktop/dev projs/list-app/front/src/contexts/DataContext.js"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\nimport { UserContext } from './UserContext';\n\nexport const DataContext = createContext();\n\nexport const DataProvider = ({ children }) => {\n    const { user } = useContext(UserContext);\n    const [data, setData] = useState(null);\n\n    const getData = async () => {\n      if (user) {\n        try {\n          console.log('user id',user.uid);\n          const listsResponse = await fetch(`${process.env.REACT_APP_SERVERURL}/lists/${user.uid}`)\n          const listsJson = await listsResponse.json()\n          const listsWithTasks = await Promise.all(\n              listsJson.map(async (list) => {\n              const tasksResponse = await fetch(`${process.env.REACT_APP_SERVERURL}/tasks/${list.id}`)\n              const tasksJson = await tasksResponse.json();\n              return { ...list, tasks: tasksJson};\n              })\n          );\n          setData(listsWithTasks)\n          } catch(error) {\n            console.error(error)\n          }\n      } else {\n        console.error('Error fetching user.')\n      }\n    };\n\n    useEffect(() => {\n      getData();\n    }, [user]);\n\n\n  return (\n    <DataContext.Provider value={{ data, getData }}>\n      {children}\n    </DataContext.Provider>\n  );\n};"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAClE,SAASC,WAAW,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAE1C,OAAO,MAAMO,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC1C,MAAM;IAAEC;EAAK,CAAC,GAAGR,UAAU,CAACC,WAAW,CAAC;EACxC,MAAM,CAACQ,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAMY,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAIH,IAAI,EAAE;MACR,IAAI;QACFI,OAAO,CAACC,GAAG,CAAC,SAAS,EAACL,IAAI,CAACM,GAAG,CAAC;QAC/B,MAAMC,aAAa,GAAG,MAAMC,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,mBAAoB,UAASX,IAAI,CAACM,GAAI,EAAC,CAAC;QACzF,MAAMM,SAAS,GAAG,MAAML,aAAa,CAACM,IAAI,CAAC,CAAC;QAC5C,MAAMC,cAAc,GAAG,MAAMC,OAAO,CAACC,GAAG,CACpCJ,SAAS,CAACK,GAAG,CAAC,MAAOC,IAAI,IAAK;UAC9B,MAAMC,aAAa,GAAG,MAAMX,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,mBAAoB,UAASO,IAAI,CAACE,EAAG,EAAC,CAAC;UACxF,MAAMC,SAAS,GAAG,MAAMF,aAAa,CAACN,IAAI,CAAC,CAAC;UAC5C,OAAO;YAAE,GAAGK,IAAI;YAAEI,KAAK,EAAED;UAAS,CAAC;QACnC,CAAC,CACL,CAAC;QACDnB,OAAO,CAACY,cAAc,CAAC;MACvB,CAAC,CAAC,OAAMS,KAAK,EAAE;QACbnB,OAAO,CAACmB,KAAK,CAACA,KAAK,CAAC;MACtB;IACJ,CAAC,MAAM;MACLnB,OAAO,CAACmB,KAAK,CAAC,sBAAsB,CAAC;IACvC;EACF,CAAC;EAEDC,SAAS,CAAC,MAAM;IACdrB,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,CAACH,IAAI,CAAC,CAAC;EAGZ,oBACEL,OAAA,CAACC,WAAW,CAAC6B,QAAQ;IAACC,KAAK,EAAE;MAAEzB,IAAI;MAAEE;IAAQ,CAAE;IAAAL,QAAA,EAC5CA;EAAQ;IAAA6B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAAC/B,EAAA,CApCWF,YAAY;AAAAkC,EAAA,GAAZlC,YAAY;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}